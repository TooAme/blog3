# L站头像生成器使用说明

## 功能概述

L站头像生成器是一个专门为L站用户设计的动态头像生成工具，可以生成包含用户昵称和角色动画的个性化GIF头像。

## 功能特性

### 1. 角色选择
支持以下5个角色：
- 祥子
- SOYO
- 爱音
- 偷摸零
- 乐奈

### 2. 个性化昵称
- 支持中英文昵称
- 最大长度20个字符
- 昵称显示为黄色粗体

### 3. 动态效果
- 生成1:1比例的正方形头像
- 包含0.4秒的渐显动画效果
- 后续0.8秒保持静态显示
- 最终输出为GIF格式

## 使用步骤

### 1. 访问生成器
在博客主页找到"L站相关"目录，点击"头像生成器"进入。

### 2. 选择角色
从下拉菜单中选择你喜欢的角色。

### 3. 输入昵称
在文本框中输入你的昵称（最多20个字符）。

### 4. 生成头像
点击"生成头像"按钮，系统会自动：
- 生成包含logo和昵称的静态图片
- 创建渐显动画效果
- 加载对应角色的视频素材
- 合并视频内容
- 转换为GIF格式

### 5. 下载头像
生成完成后，点击"下载GIF"按钮即可保存到本地。

## 文件结构

### 必需文件
1. **Logo文件**：`source/img/logo.png`
   - 格式：PNG
   - 建议尺寸：80x80像素或更大
   - 背景：透明或白色

2. **角色视频文件**：`source/mp4/角色名.mp4`
   - 祥子.mp4
   - SOYO.mp4
   - 爱音.mp4
   - 偷摸零.mp4
   - 乐奈.mp4

### 视频文件要求
- 格式：MP4
- 比例：1:1（正方形）
- 分辨率：建议400x400或更高
- 编码：H.264
- 文件大小：建议不超过10MB

## 生成的头像格式

### 图片布局
```
┌─────────────────────────┐
│                         │
│  [Logo]    LINUX DO     │  ← 第一排
│                         │
│       用户昵称          │  ← 第二排（黄色粗体，居中）
│                         │
└─────────────────────────┘
```

### 技术规格
- 尺寸：400x400像素
- 格式：GIF
- 背景：白色
- 动画：1.2秒循环
- 帧率：15fps

## 安装和配置

### 1. 文件部署
确保以下文件已正确放置：
- 主题布局文件：`themes/wixo/layout/lstation-generator.ejs`
- JavaScript文件：`themes/wixo/source/js/lstation-generator.js`
- 页面文件：`source/lstation-generator/index.md`

### 2. 资源文件
- 将logo.png放入`source/img/`目录
- 将角色视频文件放入`source/mp4/`目录

### 3. 重新生成博客
```bash
hexo clean
hexo generate
```

## 技术实现

### 前端技术
- HTML5 Canvas：图片绘制和处理
- JavaScript：交互逻辑和动画控制
- GIF.js：GIF动画生成
- CSS3：界面样式和响应式布局

### 处理流程
1. **图片生成**：使用Canvas API绘制包含logo和昵称的静态图片
2. **动画创建**：生成渐显动画帧序列
3. **视频处理**：加载和处理角色视频文件
4. **内容合并**：将动画和角色视频合并
5. **格式转换**：使用GIF.js将视频转换为GIF格式

## 浏览器兼容性

### 支持的浏览器
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

### 功能要求
- HTML5 Canvas支持
- ES6+ JavaScript支持
- Blob和URL API支持

## 常见问题

### Q: 生成失败怎么办？
A: 检查以下项目：
- 确保logo.png文件存在且可访问
- 检查角色视频文件是否正确放置
- 确认浏览器支持所需功能
- 查看浏览器控制台是否有错误信息

### Q: 生成的GIF文件很大怎么办？
A: 可以通过以下方式优化：
- 降低视频分辨率
- 减少动画帧率
- 压缩角色视频文件

### Q: 可以添加更多角色吗？
A: 可以，需要：
1. 在角色选择列表中添加新选项
2. 准备对应的MP4视频文件
3. 将视频文件放入mp4目录

### Q: 昵称支持特殊字符吗？
A: 支持大部分Unicode字符，包括中文、英文、数字和常见符号。

## 更新日志

### v1.0.0
- 初始版本发布
- 支持5个角色选择
- 实现基础的GIF生成功能
- 添加渐显动画效果

## 技术支持

如遇到问题，请检查：
1. 浏览器控制台错误信息
2. 网络连接状态
3. 文件路径和权限
4. 浏览器兼容性

建议在现代浏览器中使用以获得最佳体验。
