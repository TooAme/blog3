# 博客分类密码保护功能说明

## 功能概述

你的博客现在支持对特定分类进行密码保护。受保护的分类会显示锁定图标，需要输入正确密码才能查看内容，并且搜索功能也无法搜索到这些受保护文章的内容。

## 当前配置

目前已配置的受保护分类：
- **项目记录** - 密码：`www778899`

## 如何为其他目录添加锁定

### 方法1：通过配置文件添加（推荐）

编辑 `themes/wixo/_config.yml` 文件，在 `protected_categories` 部分添加新的受保护分类：

```yaml
# 受保护分类配置
protected_categories:
  - name: 项目记录
    password: www778899
  - name: 私人日记        # 新增分类
    password: mypassword123
  - name: 工作笔记        # 新增分类
    password: work2025
```

### 方法2：直接修改模板文件

如果你更喜欢直接修改代码，可以编辑以下文件：

#### 1. 修改 `themes/wixo/layout/_partial/index.ejs`

在文件开头的JavaScript部分，修改受保护分类列表：

```javascript
// 从主题配置获取受保护分类列表
var protectedCategories = theme.protected_categories || [
  {name: '项目记录', password: 'www778899'},
  {name: '私人日记', password: 'mypassword123'},  // 新增
  {name: '工作笔记', password: 'work2025'}        // 新增
];
```

#### 2. 修改 `themes/wixo/layout/_partial/after_footer.ejs`

在JavaScript的密码配置部分添加新分类：

```javascript
var protectedPasswords = {
  '项目记录': 'www778899',
  '私人日记': 'mypassword123',    // 新增
  '工作笔记': 'work2025'          // 新增
};
```

## 使用步骤

### 1. 创建受保护的分类文章

创建文章时，在Front Matter中指定受保护的分类：

```yaml
---
title: 我的私人想法
date: 2025-08-27 10:00:00
categories:
  - 私人日记    # 这个分类需要密码访问
tags:
  - 个人
  - 随想
---
```

### 2. 重新生成博客

```bash
hexo clean
hexo generate
```

### 3. 测试功能

访问博客主页，你会看到：
- 受保护的分类显示锁定图标 🔒
- 点击后会显示密码输入框
- 输入正确密码后可以查看内容
- 搜索功能不会搜索到受保护文章的内容

## 功能特性

### 1. 安全特性
- **密码验证**：每个分类可以设置不同的密码
- **会话保持**：解锁后在当前浏览器会话中保持解锁状态
- **搜索隐藏**：受保护文章不会出现在搜索结果中

### 2. 用户体验
- **视觉区分**：锁定图标清晰标识受保护分类
- **即时反馈**：密码错误时会有视觉提示
- **一键解锁**：支持回车键快速解锁

### 3. 灵活配置
- **多分类支持**：可以保护任意数量的分类
- **独立密码**：每个分类可以设置不同的密码
- **动态配置**：通过配置文件轻松管理

## 密码安全建议

1. **使用强密码**：建议使用包含字母、数字的复杂密码
2. **定期更换**：定期更换密码以提高安全性
3. **分类管理**：不同敏感级别的内容使用不同密码

## 示例配置

以下是一个完整的配置示例：

```yaml
# themes/wixo/_config.yml
protected_categories:
  - name: 项目记录
    password: www778899
  - name: 私人日记
    password: diary2025!
  - name: 工作笔记
    password: work_secret_123
  - name: 财务记录
    password: money_safe_456
```

## 常见问题

### Q: 如何移除分类的密码保护？
A: 从 `protected_categories` 配置中删除对应的分类配置即可。

### Q: 忘记密码怎么办？
A: 可以在 `themes/wixo/_config.yml` 文件中查看或修改密码。

### Q: 可以为子分类设置密码吗？
A: 目前只支持一级分类的密码保护。

### Q: 密码保护是否影响SEO？
A: 受保护的文章不会被搜索引擎索引，也不会出现在站内搜索中。

## 注意事项

1. **备份配置**：修改配置前请备份原文件
2. **测试功能**：添加新的受保护分类后请测试功能是否正常
3. **密码强度**：避免使用过于简单的密码
4. **浏览器兼容**：功能支持现代浏览器，建议使用最新版本

通过以上配置，你可以轻松为任何分类添加密码保护功能！
